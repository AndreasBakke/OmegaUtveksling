!function(e,t)***REMOVED***"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(Ve,Ke)***REMOVED***"use strict";try***REMOVED***!(function()***REMOVED***function e(e)***REMOVED***return e&&"object"==typeof e&&"default"in e?e:***REMOVED***default:e}}var u,t,a,r=e(Ve);function g()***REMOVED***try***REMOVED***return"object"==typeof indexedDB}catch(e)***REMOVED***return}}class c extends Error***REMOVED***constructor(e,t,r)***REMOVED***super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i.prototype.create)}}class i***REMOVED***constructor(e,t,r)***REMOVED***this.service=e,this.serviceName=t,this.errors=r}create(e,...t)***REMOVED***var a,r=t[0]||***REMOVED***},i=`$***REMOVED***this.service}/$***REMOVED***e}`,s=this.errors[e],s=s?(a=r,s.replace(n,(e,t)=>***REMOVED***var r=a[t];return null!=r?String(r):`<$***REMOVED***t}?>`})):"Error",s=`$***REMOVED***this.serviceName}: $***REMOVED***s} ($***REMOVED***i}).`;return new c(i,s,r)}}const n=/\***REMOVED***\$([^}]+)}/g;function s(e)***REMOVED***return e&&e._delegate?e._delegate:e}class o***REMOVED***constructor(e,t,r)***REMOVED***this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps=***REMOVED***},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e)***REMOVED***return this.instantiationMode=e,this}setMultipleInstances(e)***REMOVED***return this.multipleInstances=e,this}setServiceProps(e)***REMOVED***return this.serviceProps=e,this}setInstanceCreatedCallback(e)***REMOVED***return this.onInstanceCreated=e,this}}(t=u=u||***REMOVED***})[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT";const l=***REMOVED***debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},h=u.INFO,f=***REMOVED***[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},d=(e,t,...r)=>***REMOVED***if(!(t<e.logLevel))***REMOVED***var a=(new Date).toISOString(),i=f[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: $***REMOVED***t})`);console[i](`[$***REMOVED***a}]  $***REMOVED***e.name}:`,...r)}};class p***REMOVED***constructor(e)***REMOVED***this.name=e,this._logLevel=h,this._logHandler=d,this._userLogHandler=null}get logLevel()***REMOVED***return this._logLevel}set logLevel(e)***REMOVED***if(!(e in u))throw new TypeError(`Invalid value "$***REMOVED***e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e)***REMOVED***this._logLevel="string"==typeof e?l[e]:e}get logHandler()***REMOVED***return this._logHandler}set logHandler(e)***REMOVED***if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler()***REMOVED***return this._userLogHandler}set userLogHandler(e)***REMOVED***this._userLogHandler=e}debug(...e)***REMOVED***this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...e),this._logHandler(this,u.DEBUG,...e)}log(...e)***REMOVED***this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...e),this._logHandler(this,u.VERBOSE,...e)}info(...e)***REMOVED***this._userLogHandler&&this._userLogHandler(this,u.INFO,...e),this._logHandler(this,u.INFO,...e)}warn(...e)***REMOVED***this._userLogHandler&&this._userLogHandler(this,u.WARN,...e),this._logHandler(this,u.WARN,...e)}error(...e)***REMOVED***this._userLogHandler&&this._userLogHandler(this,u.ERROR,...e),this._logHandler(this,u.ERROR,...e)}}const m=(t,e)=>e.some(e=>t instanceof e);let v,w;const _=new WeakMap,y=new WeakMap,b=new WeakMap,S=new WeakMap,E=new WeakMap;let C=***REMOVED***get(e,t,r)***REMOVED***if(e instanceof IDBTransaction)***REMOVED***if("done"===t)return y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return L(e[t])},set(e,t,r)***REMOVED***return e[t]=r,!0},has(e,t)***REMOVED***return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function I(a)***REMOVED***return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w=w||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(a)?function(...e)***REMOVED***return a.apply(M(this),e),L(_.get(this))}:function(...e)***REMOVED***return L(a.apply(M(this),e))}:function(e,...t)***REMOVED***var r=a.call(M(this),e,...t);return b.set(r,e.sort?e.sort():[e]),L(r)}}function T(e)***REMOVED***return"function"==typeof e?I(e):(e instanceof IDBTransaction&&(s=e,y.has(s)||(t=new Promise((e,t)=>***REMOVED***const r=()=>***REMOVED***s.removeEventListener("complete",a),s.removeEventListener("error",i),s.removeEventListener("abort",i)},a=()=>***REMOVED***e(),r()},i=()=>***REMOVED***t(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",a),s.addEventListener("error",i),s.addEventListener("abort",i)}),y.set(s,t))),m(e,v=v||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,C):e);var s,t}function L(e)***REMOVED***if(e instanceof IDBRequest)return function(s)***REMOVED***const e=new Promise((e,t)=>***REMOVED***const r=()=>***REMOVED***s.removeEventListener("success",a),s.removeEventListener("error",i)},a=()=>***REMOVED***e(L(s.result)),r()},i=()=>***REMOVED***t(s.error),r()};s.addEventListener("success",a),s.addEventListener("error",i)});return e.then(e=>***REMOVED***e instanceof IDBCursor&&_.set(e,s)}).catch(()=>***REMOVED***}),E.set(e,s),e}(e);if(S.has(e))return S.get(e);var t=T(e);return t!==e&&(S.set(e,t),E.set(t,e)),t}const M=e=>E.get(e);const D=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],P=new Map;function k(e,t)***REMOVED***if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t)***REMOVED***if(P.get(t))return P.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,n=F.includes(i);if(i in(s?IDBIndex:IDBObjectStore).prototype&&(n||D.includes(i)))***REMOVED***var r=async function(e,...t)***REMOVED***var r=this.transaction(e,n?"readwrite":"readonly");let a=r.store;return s&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),n&&r.done]))[0]};return P.set(t,r),r}}}C=***REMOVED***...a=C,get:(e,t,r)=>k(e,t)||a.get(e,t,r),has:(e,t)=>!!k(e,t)||a.has(e,t)};var O="@firebase/installations",N="0.6.1";const j=1e4,A=`w:$***REMOVED***N}`,R="FIS_v2",B="https://firebaseinstallations.googleapis.com/v1",$=36e5;var H;const x=new i("installations","Installations",***REMOVED***"missing-app-config-values":'Missing App configuration value: "***REMOVED***$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'***REMOVED***$requestName} request failed with error "***REMOVED***$serverCode} ***REMOVED***$serverStatus}: ***REMOVED***$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function q(e)***REMOVED***return e instanceof c&&e.code.includes("request-failed")}function V(***REMOVED***projectId:e})***REMOVED***return`$***REMOVED***B}/projects/$***REMOVED***e}/installations`}function K(e)***REMOVED***return***REMOVED***token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function U(e,t)***REMOVED***var r=(await t.json()).error;return x.create("request-failed",***REMOVED***requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function z(***REMOVED***apiKey:e})***REMOVED***return new Headers(***REMOVED***"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function G(e,***REMOVED***refreshToken:t})***REMOVED***const r=z(e);return r.append("Authorization",(t=t,`$***REMOVED***R} $***REMOVED***t}`)),r}async function W(e)***REMOVED***var t=await e();return 500<=t.status&&t.status<600?e():t}function J(t)***REMOVED***return new Promise(e=>***REMOVED***setTimeout(e,t)})}const Y=/^[cdef][\w-]***REMOVED***21}$/,Z="";function Q()***REMOVED***try***REMOVED***const t=new Uint8Array(17),r=self.crypto||self.msCrypto;r.getRandomValues(t),t[0]=112+t[0]%16;var e=function(e)***REMOVED***const t=function(e)***REMOVED***const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(t);return Y.test(e)?e:Z}catch(e)***REMOVED***return Z}}function X(e)***REMOVED***return`$***REMOVED***e.appName}!$***REMOVED***e.appId}`}const ee=new Map;function te(e,t)***REMOVED***var r=X(e);re(r,t),function(e,t)***REMOVED***const r=function()***REMOVED***!ae&&"BroadcastChannel"in self&&(ae=new BroadcastChannel("[Firebase] FID Change"),ae.onmessage=e=>***REMOVED***re(e.data.key,e.data.fid)});return ae}();r&&r.postMessage(***REMOVED***key:e,fid:t});0===ee.size&&ae&&(ae.close(),ae=null)}(r,t)}function re(e,t)***REMOVED***var r=ee.get(e);if(r)for(const a of r)a(t)}let ae=null;const ie="firebase-installations-store";let se=null;function ne()***REMOVED***return se=se||function(e,t,***REMOVED***blocked:r,upgrade:a,blocking:i,terminated:s})***REMOVED***const n=indexedDB.open(e,t),o=L(n);return a&&n.addEventListener("upgradeneeded",e=>***REMOVED***a(L(n.result),e.oldVersion,e.newVersion,L(n.transaction))}),r&&n.addEventListener("blocked",()=>r()),o.then(e=>***REMOVED***s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>***REMOVED***}),o}("firebase-installations-database",1,***REMOVED***upgrade:(e,t)=>***REMOVED***0===t&&e.createObjectStore(ie)}}),se}async function oe(e,t)***REMOVED***var r=X(e);const a=await ne(),i=a.transaction(ie,"readwrite"),s=i.objectStore(ie);var n=await s.get(r);return await s.put(t,r),await i.done,n&&n.fid===t.fid||te(e,t.fid),t}async function ce(e)***REMOVED***var t=X(e);const r=await ne(),a=r.transaction(ie,"readwrite");await a.objectStore(ie).delete(t),await a.done}async function le(e,t)***REMOVED***var r=X(e);const a=await ne(),i=a.transaction(ie,"readwrite"),s=i.objectStore(ie);var n=await s.get(r),o=t(n);return void 0===o?await s.delete(r):await s.put(o,r),await i.done,!o||n&&n.fid===o.fid||te(e,o.fid),o}async function ue(r)***REMOVED***let a;var e=await le(r.appConfig,e=>***REMOVED***var t=he(e||***REMOVED***fid:Q(),registrationStatus:0}),t=function(e,t)***REMOVED******REMOVED***if(0!==t.registrationStatus)return 1===t.registrationStatus?***REMOVED***installationEntry:t,registrationPromise:async function(e)***REMOVED***let t=await ge(e.appConfig);for(;1===t.registrationStatus;)await J(100),t=await ge(e.appConfig);if(0!==t.registrationStatus)return t;***REMOVED***var***REMOVED***installationEntry:r,registrationPromise:a}=await ue(e);return a||r}}(e)}:***REMOVED***installationEntry:t};if(!navigator.onLine)***REMOVED***var r=Promise.reject(x.create("app-offline"));return***REMOVED***installationEntry:t,registrationPromise:r}}var a=***REMOVED***fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(t,r)***REMOVED***try***REMOVED***var e=await async function(***REMOVED***appConfig:e,heartbeatServiceProvider:t},***REMOVED***fid:r})***REMOVED***const a=V(e),i=z(e),s=t.getImmediate(***REMOVED***optional:!0});!s||(n=await s.getHeartbeatsHeader())&&i.append("x-firebase-client",n);var n=***REMOVED***fid:r,authVersion:R,appId:e.appId,sdkVersion:A};const o=***REMOVED***method:"POST",headers:i,body:JSON.stringify(n)},c=await W(()=>fetch(a,o));if(c.ok)***REMOVED***n=await c.json();return***REMOVED***fid:n.fid||r,registrationStatus:2,refreshToken:n.refreshToken,authToken:K(n.authToken)}}throw await U("Create Installation",c)}(t,r);return oe(t.appConfig,e)}catch(e)***REMOVED***throw q(e)&&409===e.customData.serverCode?await ce(t.appConfig):await oe(t.appConfig,***REMOVED***fid:r.fid,registrationStatus:0}),e}}(e,a);return***REMOVED***installationEntry:a,registrationPromise:r}}}(r,t);return a=t.registrationPromise,t.installationEntry});return e.fid===Z?***REMOVED***installationEntry:await a}:***REMOVED***installationEntry:e,registrationPromise:a}}function ge(e)***REMOVED***return le(e,e=>***REMOVED***if(!e)throw x.create("installation-not-found");return he(e)})}function he(e)***REMOVED***return 1===(t=e).registrationStatus&&t.registrationTime+j<Date.now()?***REMOVED***fid:e.fid,registrationStatus:0}:e;var t}async function fe(***REMOVED***appConfig:e,heartbeatServiceProvider:t},r)***REMOVED***const a=([i,s]=[e,r["fid"]],`$***REMOVED***V(i)}/$***REMOVED***s}/authTokens:generate`);var i,s;const n=G(e,r),o=t.getImmediate(***REMOVED***optional:!0});!o||(c=await o.getHeartbeatsHeader())&&n.append("x-firebase-client",c);var c=***REMOVED***installation:***REMOVED***sdkVersion:A,appId:e.appId}};const l=***REMOVED***method:"POST",headers:n,body:JSON.stringify(c)},u=await W(()=>fetch(a,l));if(u.ok)return K(await u.json());throw await U("Generate Auth Token",u)}async function de(a,i=!1)***REMOVED***let s;var e=await le(a.appConfig,e=>***REMOVED***if(!me(e))throw x.create("not-registered");var t,r=e.authToken;if(i||2!==(t=r).requestStatus||function(e)***REMOVED***var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$}(t))***REMOVED***if(1===r.requestStatus)return s=async function(e,t)***REMOVED***let r=await pe(e.appConfig);for(;1===r.authToken.requestStatus;)await J(100),r=await pe(e.appConfig);var a=r.authToken;return 0===a.requestStatus?de(e,t):a}(a,i),e;if(!navigator.onLine)throw x.create("app-offline");r=(t=e,r=***REMOVED***requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign(***REMOVED***},t),***REMOVED***authToken:r}));return s=async function(t,r)***REMOVED***try***REMOVED***var a=await fe(t,r),e=Object.assign(Object.assign(***REMOVED***},r),***REMOVED***authToken:a});return await oe(t.appConfig,e),a}catch(e)***REMOVED***throw!q(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode?(a=Object.assign(Object.assign(***REMOVED***},r),***REMOVED***authToken:***REMOVED***requestStatus:0}}),await oe(t.appConfig,a)):await ce(t.appConfig),e}}(a,r),r}return e});return s?await s:e.authToken}function pe(e)***REMOVED***return le(e,e=>***REMOVED***if(!me(e))throw x.create("not-registered");var t,r=e.authToken;return 1===(t=r).requestStatus&&t.requestTime+j<Date.now()?Object.assign(Object.assign(***REMOVED***},e),***REMOVED***authToken:***REMOVED***requestStatus:0}}):e})}function me(e)***REMOVED***return void 0!==e&&2===e.registrationStatus}async function ve(e,t=!1)***REMOVED***var r,a=e;return await((r=(await ue(a)).registrationPromise)&&await r),(await de(a,t)).token}function we(e)***REMOVED***return x.create("missing-app-config-values",***REMOVED***valueName:e})}const _e="installations",ye=e=>***REMOVED***var t=e.getProvider("app").getImmediate();return***REMOVED***app:t,appConfig:function(e)***REMOVED***if(!e||!e.options)throw we("App Configuration");if(!e.name)throw we("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw we(t);return***REMOVED***appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Ke._getProvider(t,"heartbeat"),_delete:()=>Promise.resolve()}},be=e=>***REMOVED***var t=e.getProvider("app").getImmediate();const r=Ke._getProvider(t,_e).getImmediate();return***REMOVED***getId:()=>async function(e)***REMOVED***var t=e;const***REMOVED***installationEntry:r,registrationPromise:a}=await ue(t);return(a||de(t)).catch(console.error),r.fid}(r),getToken:e=>ve(r,e)}};Ke._registerComponent(new o(_e,ye,"PUBLIC")),Ke._registerComponent(new o("installations-internal",be,"PRIVATE")),Ke.registerVersion(O,N),Ke.registerVersion(O,N,"esm2017");const Se="@firebase/remote-config";class Ee***REMOVED***constructor()***REMOVED***this.listeners=[]}addEventListener(e)***REMOVED***this.listeners.push(e)}abort()***REMOVED***this.listeners.forEach(e=>e())}}const Ce=new i("remoteconfig","Remote Config",***REMOVED***"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: ***REMOVED***$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: ***REMOVED***$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: ***REMOVED***$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: ***REMOVED***$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: ***REMOVED***$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});const Ie=["1","true","t","yes","y","on"];class Te***REMOVED***constructor(e,t="")***REMOVED***this._source=e,this._value=t}asString()***REMOVED***return this._value}asBoolean()***REMOVED***return"static"!==this._source&&0<=Ie.indexOf(this._value.toLowerCase())}asNumber()***REMOVED***if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource()***REMOVED***return this._source}}async function Le(e)***REMOVED***const t=s(e);var[r,a]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(r&&r.config&&r.eTag&&r.eTag!==a)&&(await Promise.all([t._storageCache.setActiveConfig(r.config),t._storage.setActiveConfigEtag(r.eTag)]),!0)}function Me(e)***REMOVED***const t=s(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>***REMOVED***t._isInitializationComplete=!0})),t._initializePromise}async function De(t)***REMOVED***const r=s(t),e=new Ee;setTimeout(async()=>***REMOVED***e.abort()},r.settings.fetchTimeoutMillis);try***REMOVED***await r._client.fetch(***REMOVED***cacheMaxAgeMillis:r.settings.minimumFetchIntervalMillis,signal:e}),await r._storageCache.setLastFetchStatus("success")}catch(e)***REMOVED***var a=(i="fetch-throttle",(t=e)instanceof c&&-1!==t.code.indexOf(i)?"throttle":"failure");throw await r._storageCache.setLastFetchStatus(a),e}var i}function Fe(r)***REMOVED***const e=s(r);return[t=***REMOVED***},a=***REMOVED***}]=[e._storageCache.getActiveConfig(),e.defaultConfig],Object.keys(Object.assign(Object.assign(***REMOVED***},t),a)).reduce((e,t)=>(e[t]=Pe(r,t),e),***REMOVED***});var t,a}function Pe(e,t)***REMOVED***const r=s(e);r._isInitializationComplete||r._logger.debug(`A value was requested for key "$***REMOVED***t}" before SDK initialization completed.`+" Await on ensureInitialized if the intent was to get a previously activated value.");var a=r._storageCache.getActiveConfig();return a&&void 0!==a[t]?new Te("remote",a[t]):r.defaultConfig&&void 0!==r.defaultConfig[t]?new Te("default",String(r.defaultConfig[t])):(r._logger.debug(`Returning static value for key "$***REMOVED***t}".`+" Define a default or remote value if this is unintentional."),new Te("static"))}class ke***REMOVED***constructor(e,t,r,a)***REMOVED***this.client=e,this.storage=t,this.storageCache=r,this.logger=a}isCachedDataFresh(e,t)***REMOVED***if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-t,a=r<=e;return this.logger.debug("Config fetch cache check."+` Cache age millis: $***REMOVED***r}.`+` Cache max age millis (minimumFetchIntervalMillis setting): $***REMOVED***e}.`+` Is cache hit: $***REMOVED***a}.`),a}async fetch(e)***REMOVED***var[t,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return r;e.eTag=r&&r.eTag;r=await this.client.fetch(e);const a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&a.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(a),r}}class Oe***REMOVED***constructor(e,t,r,a,i,s)***REMOVED***this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=a,this.apiKey=i,this.appId=s}async fetch(r)***REMOVED***var e,[t,a]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),i=`$***REMOVED***window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/$***REMOVED***this.projectId}/namespaces/$***REMOVED***this.namespace}:fetch?key=$***REMOVED***this.apiKey}`,s=***REMOVED***"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":r.eTag||"*"},a=***REMOVED***sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:a,app_id:this.appId,language_code:(e=navigator).languages&&e.languages[0]||e.language},a=***REMOVED***method:"POST",headers:s,body:JSON.stringify(a)},i=fetch(i,a),a=new Promise((e,t)=>***REMOVED***r.signal.addEventListener(()=>***REMOVED***const e=new Error("The operation was aborted.");e.name="AbortError",t(e)})});let n;try***REMOVED***await Promise.race([i,a]),n=await i}catch(e)***REMOVED***let t="fetch-client-network";throw"AbortError"===(null==e?void 0:e.name)&&(t="fetch-timeout"),Ce.create(t,***REMOVED***originalErrorMessage:null==e?void 0:e.message})}let o=n.status;i=n.headers.get("ETag")||void 0;let c,l;if(200===n.status)***REMOVED***let e;try***REMOVED***e=await n.json()}catch(e)***REMOVED***throw Ce.create("fetch-client-parse",***REMOVED***originalErrorMessage:null==e?void 0:e.message})}c=e.entries,l=e.state}if("INSTANCE_STATE_UNSPECIFIED"===l?o=500:"NO_CHANGE"===l?o=304:"NO_TEMPLATE"!==l&&"EMPTY_CONFIG"!==l||(c=***REMOVED***}),304!==o&&200!==o)throw Ce.create("fetch-status",***REMOVED***httpStatus:o});return***REMOVED***status:o,eTag:i,config:c}}}class Ne***REMOVED***constructor(e,t)***REMOVED***this.client=e,this.storage=t}async fetch(e)***REMOVED***var t=await this.storage.getThrottleMetadata()||***REMOVED***backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(t,***REMOVED***throttleEndTimeMillis:r,backoffCount:a})***REMOVED***var i,s;i=t.signal,s=r,await new Promise((e,t)=>***REMOVED***var r=Math.max(s-Date.now(),0);const a=setTimeout(e,r);i.addEventListener(()=>***REMOVED***clearTimeout(a),t(Ce.create("fetch-throttle",***REMOVED***throttleEndTimeMillis:s}))})});try***REMOVED***var n=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),n}catch(e)***REMOVED***if(!function(e)***REMOVED***if(e instanceof c&&e.customData)***REMOVED***var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}}(e))throw e;var o=***REMOVED***throttleEndTimeMillis:Date.now()+(r=2,n=1e3*Math.pow(r,a),o=Math.round(.5*n*(Math.random()-.5)*2),Math.min(144e5,n+o)),backoffCount:a+1};return await this.storage.setThrottleMetadata(o),this.attemptFetch(t,o)}}}class je***REMOVED***constructor(e,t,r,a,i)***REMOVED***this.app=e,this._client=t,this._storageCache=r,this._storage=a,this._logger=i,this._isInitializationComplete=!1,this.settings=***REMOVED***fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig=***REMOVED***}}get fetchTimeMillis()***REMOVED***return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus()***REMOVED***return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ae(e,t)***REMOVED***var r=e.target.error||void 0;return Ce.create(t,***REMOVED***originalErrorMessage:r&&(null==r?void 0:r.message)})}const Re="app_namespace_store";class Be***REMOVED***constructor(e,t,r,a=function()***REMOVED***return new Promise((t,r)=>***REMOVED***try***REMOVED***const e=indexedDB.open("firebase_remote_config",1);e.onerror=e=>***REMOVED***r(Ae(e,"storage-open"))},e.onsuccess=e=>***REMOVED***t(e.target.result)},e.onupgradeneeded=e=>***REMOVED***const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Re,***REMOVED***keyPath:"compositeKey"})}}catch(e)***REMOVED***r(Ce.create("storage-open",***REMOVED***originalErrorMessage:null==e?void 0:e.message}))}})}())***REMOVED***this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=a}getLastFetchStatus()***REMOVED***return this.get("last_fetch_status")}setLastFetchStatus(e)***REMOVED***return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis()***REMOVED***return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e)***REMOVED***return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse()***REMOVED***return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e)***REMOVED***return this.set("last_successful_fetch_response",e)}getActiveConfig()***REMOVED***return this.get("active_config")}setActiveConfig(e)***REMOVED***return this.set("active_config",e)}getActiveConfigEtag()***REMOVED***return this.get("active_config_etag")}setActiveConfigEtag(e)***REMOVED***return this.set("active_config_etag",e)}getThrottleMetadata()***REMOVED***return this.get("throttle_metadata")}setThrottleMetadata(e)***REMOVED***return this.set("throttle_metadata",e)}deleteThrottleMetadata()***REMOVED***return this.delete("throttle_metadata")}async get(n)***REMOVED***const o=await this.openDbPromise;return new Promise((r,t)=>***REMOVED***const e=o.transaction([Re],"readonly"),a=e.objectStore(Re);var i=this.createCompositeKey(n);try***REMOVED***const s=a.get(i);s.onerror=e=>***REMOVED***t(Ae(e,"storage-get"))},s.onsuccess=e=>***REMOVED***var t=e.target.result;r(t?t.value:void 0)}}catch(e)***REMOVED***t(Ce.create("storage-get",***REMOVED***originalErrorMessage:null==e?void 0:e.message}))}})}async set(n,o)***REMOVED***const c=await this.openDbPromise;return new Promise((e,t)=>***REMOVED***const r=c.transaction([Re],"readwrite"),a=r.objectStore(Re);var i=this.createCompositeKey(n);try***REMOVED***const s=a.put(***REMOVED***compositeKey:i,value:o});s.onerror=e=>***REMOVED***t(Ae(e,"storage-set"))},s.onsuccess=()=>***REMOVED***e()}}catch(e)***REMOVED***t(Ce.create("storage-set",***REMOVED***originalErrorMessage:null==e?void 0:e.message}))}})}async delete(n)***REMOVED***const o=await this.openDbPromise;return new Promise((e,t)=>***REMOVED***const r=o.transaction([Re],"readwrite"),a=r.objectStore(Re);var i=this.createCompositeKey(n);try***REMOVED***const s=a.delete(i);s.onerror=e=>***REMOVED***t(Ae(e,"storage-delete"))},s.onsuccess=()=>***REMOVED***e()}}catch(e)***REMOVED***t(Ce.create("storage-delete",***REMOVED***originalErrorMessage:null==e?void 0:e.message}))}})}createCompositeKey(e)***REMOVED***return[this.appId,this.appName,this.namespace,e].join()}}class $e***REMOVED***constructor(e)***REMOVED***this.storage=e}getLastFetchStatus()***REMOVED***return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis()***REMOVED***return this.lastSuccessfulFetchTimestampMillis}getActiveConfig()***REMOVED***return this.activeConfig}async loadFromStorage()***REMOVED***var e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e=await e;e&&(this.lastFetchStatus=e);t=await t;t&&(this.lastSuccessfulFetchTimestampMillis=t);r=await r;r&&(this.activeConfig=r)}setLastFetchStatus(e)***REMOVED***return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e)***REMOVED***return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e)***REMOVED***return this.activeConfig=e,this.storage.setActiveConfig(e)}}async function He()***REMOVED***if(!g())return!1;try***REMOVED***return await new Promise((t,r)=>***REMOVED***try***REMOVED***let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>***REMOVED***i.result.close(),e||self.indexedDB.deleteDatabase(a),t(!0)},i.onupgradeneeded=()=>***REMOVED***e=!1},i.onerror=()=>***REMOVED***var e;r((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e)***REMOVED***r(e)}})}catch(e)***REMOVED***return!1}}Ke._registerComponent(new o("remote-config",function(e,***REMOVED***instanceIdentifier:t})***REMOVED***var r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ce.create("registration-window");if(!g())throw Ce.create("indexed-db-unavailable");var***REMOVED***projectId:i,apiKey:s,appId:n}=r.options;if(!i)throw Ce.create("registration-project-id");if(!s)throw Ce.create("registration-api-key");if(!n)throw Ce.create("registration-app-id");t=t||"firebase";const o=new Be(n,r.name,t),c=new $e(o),l=new p(Se);l.logLevel=u.ERROR;n=new Oe(a,Ke.SDK_VERSION,t,i,s,n),n=new Ne(n,o),n=new ke(n,o,c,l),n=new je(r,n,c,o,l);return Me(n),n},"PUBLIC").setMultipleInstances(!0)),Ke.registerVersion(Se,"0.4.1"),Ke.registerVersion(Se,"0.4.1","esm2017");class xe***REMOVED***constructor(e,t)***REMOVED***this.app=e,this._delegate=t}get defaultConfig()***REMOVED***return this._delegate.defaultConfig}set defaultConfig(e)***REMOVED***this._delegate.defaultConfig=e}get fetchTimeMillis()***REMOVED***return this._delegate.fetchTimeMillis}get lastFetchStatus()***REMOVED***return this._delegate.lastFetchStatus}get settings()***REMOVED***return this._delegate.settings}set settings(e)***REMOVED***this._delegate.settings=e}activate()***REMOVED***return Le(this._delegate)}ensureInitialized()***REMOVED***return Me(this._delegate)}fetch()***REMOVED***return De(this._delegate)}fetchAndActivate()***REMOVED***return async function(e)***REMOVED***return await De(e=s(e)),Le(e)}(this._delegate)}getAll()***REMOVED***return Fe(this._delegate)}getBoolean(e)***REMOVED***return Pe(s(this._delegate),e).asBoolean()}getNumber(e)***REMOVED***return Pe(s(this._delegate),e).asNumber()}getString(e)***REMOVED***return Pe(s(this._delegate),e).asString()}getValue(e)***REMOVED***return Pe(this._delegate,e)}setLogLevel(e)***REMOVED***!function(e,t)***REMOVED***const r=s(e);switch(t)***REMOVED***case"debug":r._logger.logLevel=u.DEBUG;break;case"silent":r._logger.logLevel=u.SILENT;break;default:r._logger.logLevel=u.ERROR}}(this._delegate,e)}}function qe(e,***REMOVED***instanceIdentifier:t})***REMOVED***var r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("remote-config").getImmediate(***REMOVED***identifier:t});return new xe(r,a)}(H=r.default).INTERNAL.registerComponent(new o("remoteConfig-compat",qe,"PUBLIC").setMultipleInstances(!0).setServiceProps(***REMOVED***isSupported:He})),H.registerVersion("@firebase/remote-config-compat","0.2.1")}).apply(this,arguments)}catch(e)***REMOVED***throw console.error(e),new Error("Cannot instantiate firebase-remote-config-compat.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-remote-config-compat.js.map
