!function(e,t)***REMOVED***"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(P,S)***REMOVED***"use strict";try***REMOVED***!(function()***REMOVED***function e(e)***REMOVED***return e&&"object"==typeof e&&"default"in e?e:***REMOVED***default:e}}var a,t,n=e(P);class o extends Error***REMOVED***constructor(e,t,n)***REMOVED***super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r.prototype.create)}}class r***REMOVED***constructor(e,t,n)***REMOVED***this.service=e,this.serviceName=t,this.errors=n}create(e,...t)***REMOVED***var r,n=t[0]||***REMOVED***},i=`$***REMOVED***this.service}/$***REMOVED***e}`,s=this.errors[e],s=s?(r=n,s.replace(c,(e,t)=>***REMOVED***var n=r[t];return null!=n?String(n):`<$***REMOVED***t}?>`})):"Error",s=`$***REMOVED***this.serviceName}: $***REMOVED***s} ($***REMOVED***i}).`;return new o(i,s,n)}}const c=/\***REMOVED***\$([^}]+)}/g;function u(e)***REMOVED***return e&&e._delegate?e._delegate:e}class i***REMOVED***constructor(e,t,n)***REMOVED***this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps=***REMOVED***},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e)***REMOVED***return this.instantiationMode=e,this}setMultipleInstances(e)***REMOVED***return this.multipleInstances=e,this}setServiceProps(e)***REMOVED***return this.serviceProps=e,this}setInstanceCreatedCallback(e)***REMOVED***return this.onInstanceCreated=e,this}}const s="type.googleapis.com/google.protobuf.Int64Value",l="type.googleapis.com/google.protobuf.UInt64Value";function h(e,t)***REMOVED***const n=***REMOVED***};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function d(e)***REMOVED***if(null==e)return e;if(e["@type"])switch(e["@type"])***REMOVED***case s:case l:var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>d(e)):"function"==typeof e||"object"==typeof e?h(e,e=>d(e)):e}const p="functions",f=***REMOVED***OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class g extends o***REMOVED***constructor(e,t,n)***REMOVED***super(`$***REMOVED***p}/$***REMOVED***e}`,t||""),this.details=n}}function m(e,t)***REMOVED***let n=function(e)***REMOVED***if(200<=e&&e<300)return"ok";switch(e)***REMOVED***case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try***REMOVED***var s=t&&t.error;if(s)***REMOVED***const e=s.status;if("string"==typeof e)***REMOVED***if(!f[e])return new g("internal","internal");n=f[e],r=e}var a=s.message;"string"==typeof a&&(r=a),i=s.details,void 0!==i&&(i=d(i))}}catch(e)***REMOVED***}return"ok"===n?null:new g(n,r,i)}class v***REMOVED***constructor(e,t,n)***REMOVED***this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate(***REMOVED***optional:!0}),this.messaging=t.getImmediate(***REMOVED***optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>***REMOVED***}),this.messaging||t.get().then(e=>this.messaging=e,()=>***REMOVED***}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>***REMOVED***})}async getAuthToken()***REMOVED***if(this.auth)try***REMOVED***var e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e)***REMOVED***return}}async getMessagingToken()***REMOVED***if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try***REMOVED***return this.messaging.getToken()}catch(e)***REMOVED***return}}async getAppCheckToken()***REMOVED***if(this.appCheck)***REMOVED***var e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext()***REMOVED***return***REMOVED***authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken()}}}const w="us-central1";class y***REMOVED***constructor(e,t,n,r,i=w,s)***REMOVED***this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new v(t,n,r),this.cancelAllRequests=new Promise(e=>***REMOVED***this.deleteService=()=>Promise.resolve(e())});try***REMOVED***var a=new URL(i);this.customDomain=a.origin,this.region=w}catch(e)***REMOVED***this.customDomain=null,this.region=i}}_delete()***REMOVED***return this.deleteService()}_url(e)***REMOVED***var t=this.app.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?`$***REMOVED***this.customDomain}/$***REMOVED***e}`:`https://$***REMOVED***this.region}-$***REMOVED***t}.cloudfunctions.net/$***REMOVED***e}`:`$***REMOVED***this.emulatorOrigin}/$***REMOVED***t}/$***REMOVED***this.region}/$***REMOVED***e}`}}function E(i,s,a)***REMOVED***return e=>***REMOVED***return t=e,n=a||***REMOVED***},r=(e=i)._url(s),b(e,r,t,n);var t,n,r}}async function b(e,t,n,r)***REMOVED***var i=***REMOVED***data:n=function t(e)***REMOVED***if(null==e)return null;if("number"==typeof(e=e instanceof Number?e.valueOf():e)&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>t(e));if("function"==typeof e||"object"==typeof e)return h(e,e=>t(e));throw new Error("Data cannot be encoded in JSON: "+e)}(n)};const s=***REMOVED***};var a=await e.contextProvider.getContext();a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),null!==a.appCheckToken&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=function(n)***REMOVED***let r=null;return***REMOVED***promise:new Promise((e,t)=>***REMOVED***r=setTimeout(()=>***REMOVED***t(new g("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>***REMOVED***r&&clearTimeout(r)}}}(r.timeout||7e4);a=await Promise.race([async function(e,t,n,r)***REMOVED***n["Content-Type"]="application/json";let i;try***REMOVED***i=await r(e,***REMOVED***method:"POST",body:JSON.stringify(t),headers:n})}catch(e)***REMOVED***return***REMOVED***status:0,json:null}}let s=null;try***REMOVED***s=await i.json()}catch(e)***REMOVED***}return***REMOVED***status:i.status,json:s}}(t,i,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!a)throw new g("cancelled","Firebase Functions instance was deleted.");i=m(a.status,a.json);if(i)throw i;if(!a.json)throw new g("internal","Response is not valid JSON object.");let c=a.json.data;if(void 0===c&&(c=a.json.result),void 0===c)throw new g("internal","Response is missing data field.");return***REMOVED***data:d(c)}}const I="@firebase/functions",T="0.9.1";function k(e,t,n)***REMOVED***u(e).emulatorOrigin=`http://$***REMOVED***t}:$***REMOVED***n}`}function N(e,t,n)***REMOVED***return r=u(e),i=t,s=n,e=>b(r,i,e,s||***REMOVED***});var r,i,s}a=fetch.bind(self),S._registerComponent(new i(p,(e,***REMOVED***instanceIdentifier:t})=>***REMOVED***var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),s=e.getProvider("app-check-internal");return new y(n,r,i,s,t,a)},"PUBLIC").setMultipleInstances(!0)),S.registerVersion(I,T,t),S.registerVersion(I,T,"esm2017");var A;class C***REMOVED***constructor(e,t)***REMOVED***this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t)***REMOVED***return E(u(this._delegate),e,t)}httpsCallableFromURL(e,t)***REMOVED***return N(this._delegate,e,t)}useFunctionsEmulator(e)***REMOVED***var t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new o("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new o("functions","Port missing in origin provided to useFunctionsEmulator()");return k(this._delegate,t[1],Number(t[2]))}useEmulator(e,t)***REMOVED***return k(this._delegate,e,t)}}const D="us-central1",O=(e,***REMOVED***instanceIdentifier:t})=>***REMOVED***var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate(***REMOVED***identifier:null!=t?t:D});return new C(n,r)};A=***REMOVED***Functions:C},n.default.INTERNAL.registerComponent(new i("functions-compat",O,"PUBLIC").setServiceProps(A).setMultipleInstances(!0)),n.default.registerVersion("@firebase/functions-compat","0.3.1")}).apply(this,arguments)}catch(e)***REMOVED***throw console.error(e),new Error("Cannot instantiate firebase-functions-compat.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-functions-compat.js.map
