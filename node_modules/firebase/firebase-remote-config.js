import***REMOVED***registerVersion as t,_registerComponent as e,_getProvider as n,getApp as s,SDK_VERSION as r}from"https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js";function a()***REMOVED***try***REMOVED***return"object"==typeof indexedDB}catch(t)***REMOVED***return!1}}class i extends Error***REMOVED***constructor(t,e,n)***REMOVED***super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o.prototype.create)}}class o***REMOVED***constructor(t,e,n)***REMOVED***this.service=t,this.serviceName=e,this.errors=n}create(t,...e)***REMOVED***const n=e[0]||***REMOVED***},s=`$***REMOVED***this.service}/$***REMOVED***t}`,r=this.errors[t],a=r?function(t,e)***REMOVED***return t.replace(c,((t,n)=>***REMOVED***const s=e[n];return null!=s?String(s):`<$***REMOVED***n}?>`}))}(r,n):"Error",o=`$***REMOVED***this.serviceName}: $***REMOVED***a} ($***REMOVED***s}).`;return new i(s,o,n)}}const c=/\***REMOVED***\$([^}]+)}/g;function u(t,e=1e3,n=2)***REMOVED***const s=e*Math.pow(n,t),r=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+r)}function l(t)***REMOVED***return t&&t._delegate?t._delegate:t}class g***REMOVED***constructor(t,e,n)***REMOVED***this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps=***REMOVED***},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t)***REMOVED***return this.instantiationMode=t,this}setMultipleInstances(t)***REMOVED***return this.multipleInstances=t,this}setServiceProps(t)***REMOVED***return this.serviceProps=t,this}setInstanceCreatedCallback(t)***REMOVED***return this.onInstanceCreated=t,this}}var h;!function(t)***REMOVED***t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(h||(h=***REMOVED***}));const f=***REMOVED***debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},d=h.INFO,p=***REMOVED***[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},m=(t,e,...n)=>***REMOVED***if(e<t.logLevel)return;const s=(new Date).toISOString(),r=p[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: $***REMOVED***e})`);console[r](`[$***REMOVED***s}]  $***REMOVED***t.name}:`,...n)};class w***REMOVED***constructor(t)***REMOVED***this.name=t,this._logLevel=d,this._logHandler=m,this._userLogHandler=null}get logLevel()***REMOVED***return this._logLevel}set logLevel(t)***REMOVED***if(!(t in h))throw new TypeError(`Invalid value "$***REMOVED***t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t)***REMOVED***this._logLevel="string"==typeof t?f[t]:t}get logHandler()***REMOVED***return this._logHandler}set logHandler(t)***REMOVED***if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler()***REMOVED***return this._userLogHandler}set userLogHandler(t)***REMOVED***this._userLogHandler=t}debug(...t)***REMOVED***this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...t),this._logHandler(this,h.DEBUG,...t)}log(...t)***REMOVED***this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...t),this._logHandler(this,h.VERBOSE,...t)}info(...t)***REMOVED***this._userLogHandler&&this._userLogHandler(this,h.INFO,...t),this._logHandler(this,h.INFO,...t)}warn(...t)***REMOVED***this._userLogHandler&&this._userLogHandler(this,h.WARN,...t),this._logHandler(this,h.WARN,...t)}error(...t)***REMOVED***this._userLogHandler&&this._userLogHandler(this,h.ERROR,...t),this._logHandler(this,h.ERROR,...t)}}let v,_;const y=new WeakMap,b=new WeakMap,E=new WeakMap,S=new WeakMap,I=new WeakMap;let C=***REMOVED***get(t,e,n)***REMOVED***if(t instanceof IDBTransaction)***REMOVED***if("done"===e)return b.get(t);if("objectStoreNames"===e)return t.objectStoreNames||E.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return M(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function T(t)***REMOVED***return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_||(_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e)***REMOVED***return t.apply(D(this),e),M(y.get(this))}:function(...e)***REMOVED***return M(t.apply(D(this),e))}:function(e,...n)***REMOVED***const s=t.call(D(this),e,...n);return E.set(s,e.sort?e.sort():[e]),M(s)}}function L(t)***REMOVED***return"function"==typeof t?T(t):(t instanceof IDBTransaction&&function(t)***REMOVED***if(b.has(t))return;const e=new Promise(((e,n)=>***REMOVED***const s=()=>***REMOVED***t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>***REMOVED***e(),s()},a=()=>***REMOVED***n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)}));b.set(t,e)}(t),e=t,(v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,C):t);var e}function M(t)***REMOVED***if(t instanceof IDBRequest)return function(t)***REMOVED***const e=new Promise(((e,n)=>***REMOVED***const s=()=>***REMOVED***t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>***REMOVED***e(M(t.result)),s()},a=()=>***REMOVED***n(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)}));return e.then((e=>***REMOVED***e instanceof IDBCursor&&y.set(e,t)})).catch((()=>***REMOVED***})),I.set(e,t),e}(t);if(S.has(t))return S.get(t);const e=L(t);return e!==t&&(S.set(t,e),I.set(e,t)),e}const D=t=>I.get(t);const k=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],P=new Map;function O(t,e)***REMOVED***if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(P.get(e))return P.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=F.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!k.includes(n))return;const a=async function(t,...e)***REMOVED***const a=this.transaction(t,r?"readwrite":"readonly");let i=a.store;return s&&(i=i.index(e.shift())),(await Promise.all([i[n](...e),r&&a.done]))[0]};return P.set(e,a),a}C=(t=>(***REMOVED***...t,get:(e,n,s)=>O(e,n)||t.get(e,n,s),has:(e,n)=>!!O(e,n)||t.has(e,n)}))(C);const N="@firebase/installations",j=new o("installations","Installations",***REMOVED***"missing-app-config-values":'Missing App configuration value: "***REMOVED***$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'***REMOVED***$requestName} request failed with error "***REMOVED***$serverCode} ***REMOVED***$serverStatus}: ***REMOVED***$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function R(t)***REMOVED***return t instanceof i&&t.code.includes("request-failed")}function A(***REMOVED***projectId:t})***REMOVED***return`https://firebaseinstallations.googleapis.com/v1/projects/$***REMOVED***t}/installations`}function B(t)***REMOVED***return***REMOVED***token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function $(t,e)***REMOVED***const n=(await e.json()).error;return j.create("request-failed",***REMOVED***requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function H(***REMOVED***apiKey:t})***REMOVED***return new Headers(***REMOVED***"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x(t,***REMOVED***refreshToken:e})***REMOVED***const n=H(t);return n.append("Authorization",function(t)***REMOVED***return`FIS_v2 $***REMOVED***t}`}(e)),n}async function q(t)***REMOVED***const e=await t();return e.status>=500&&e.status<600?t():e}function K(t)***REMOVED***return new Promise((e=>***REMOVED***setTimeout(e,t)}))}const U=/^[cdef][\w-]***REMOVED***21}$/;function V()***REMOVED***try***REMOVED***const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t)***REMOVED***return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return U.test(e)?e:""}catch(t)***REMOVED***return""}}function z(t)***REMOVED***return`$***REMOVED***t.appName}!$***REMOVED***t.appId}`}const G=new Map;function W(t,e)***REMOVED***const n=z(t);J(n,e),function(t,e)***REMOVED***const n=function()***REMOVED***!Y&&"BroadcastChannel"in self&&(Y=new BroadcastChannel("[Firebase] FID Change"),Y.onmessage=t=>***REMOVED***J(t.data.key,t.data.fid)});return Y}();n&&n.postMessage(***REMOVED***key:t,fid:e});0===G.size&&Y&&(Y.close(),Y=null)}(n,e)}function J(t,e)***REMOVED***const n=G.get(t);if(n)for(const t of n)t(e)}let Y=null;const Z="firebase-installations-store";let Q=null;function X()***REMOVED***return Q||(Q=function(t,e,***REMOVED***blocked:n,upgrade:s,blocking:r,terminated:a}=***REMOVED***})***REMOVED***const i=indexedDB.open(t,e),o=M(i);return s&&i.addEventListener("upgradeneeded",(t=>***REMOVED***s(M(i.result),t.oldVersion,t.newVersion,M(i.transaction))})),n&&i.addEventListener("blocked",(()=>n())),o.then((t=>***REMOVED***a&&t.addEventListener("close",(()=>a())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>***REMOVED***})),o}("firebase-installations-database",1,***REMOVED***upgrade:(t,e)=>***REMOVED***if(0===e)t.createObjectStore(Z)}})),Q}async function tt(t,e)***REMOVED***const n=z(t),s=(await X()).transaction(Z,"readwrite"),r=s.objectStore(Z),a=await r.get(n);return await r.put(e,n),await s.done,a&&a.fid===e.fid||W(t,e.fid),e}async function et(t)***REMOVED***const e=z(t),n=(await X()).transaction(Z,"readwrite");await n.objectStore(Z).delete(e),await n.done}async function nt(t,e)***REMOVED***const n=z(t),s=(await X()).transaction(Z,"readwrite"),r=s.objectStore(Z),a=await r.get(n),i=e(a);return void 0===i?await r.delete(n):await r.put(i,n),await s.done,!i||a&&a.fid===i.fid||W(t,i.fid),i}async function st(t)***REMOVED***let e;const n=await nt(t.appConfig,(n=>***REMOVED***const s=function(t)***REMOVED***return it(t||***REMOVED***fid:V(),registrationStatus:0})}(n),r=function(t,e)***REMOVED***if(0===e.registrationStatus)***REMOVED***if(!navigator.onLine)***REMOVED***return***REMOVED***installationEntry:e,registrationPromise:Promise.reject(j.create("app-offline"))}}const n=***REMOVED***fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(t,e)***REMOVED***try***REMOVED***const n=await async function(***REMOVED***appConfig:t,heartbeatServiceProvider:e},***REMOVED***fid:n})***REMOVED***const s=A(t),r=H(t),a=e.getImmediate(***REMOVED***optional:!0});if(a)***REMOVED***const t=await a.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const i=***REMOVED***fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.6.1"},o=***REMOVED***method:"POST",headers:r,body:JSON.stringify(i)},c=await q((()=>fetch(s,o)));if(c.ok)***REMOVED***const t=await c.json();return***REMOVED***fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:B(t.authToken)}}throw await $("Create Installation",c)}(t,e);return tt(t.appConfig,n)}catch(n)***REMOVED***throw R(n)&&409===n.customData.serverCode?await et(t.appConfig):await tt(t.appConfig,***REMOVED***fid:e.fid,registrationStatus:0}),n}}(t,n);return***REMOVED***installationEntry:n,registrationPromise:s}}return 1===e.registrationStatus?***REMOVED***installationEntry:e,registrationPromise:rt(t)}:***REMOVED***installationEntry:e}}(t,s);return e=r.registrationPromise,r.installationEntry}));return""===n.fid?***REMOVED***installationEntry:await e}:***REMOVED***installationEntry:n,registrationPromise:e}}async function rt(t)***REMOVED***let e=await at(t.appConfig);for(;1===e.registrationStatus;)await K(100),e=await at(t.appConfig);if(0===e.registrationStatus)***REMOVED***const***REMOVED***installationEntry:e,registrationPromise:n}=await st(t);return n||e}return e}function at(t)***REMOVED***return nt(t,(t=>***REMOVED***if(!t)throw j.create("installation-not-found");return it(t)}))}function it(t)***REMOVED***return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?***REMOVED***fid:t.fid,registrationStatus:0}:t;var e}async function ot(***REMOVED***appConfig:t,heartbeatServiceProvider:e},n)***REMOVED***const s=function(t,***REMOVED***fid:e})***REMOVED***return`$***REMOVED***A(t)}/$***REMOVED***e}/authTokens:generate`}(t,n),r=x(t,n),a=e.getImmediate(***REMOVED***optional:!0});if(a)***REMOVED***const t=await a.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const i=***REMOVED***installation:***REMOVED***sdkVersion:"w:0.6.1",appId:t.appId}},o=***REMOVED***method:"POST",headers:r,body:JSON.stringify(i)},c=await q((()=>fetch(s,o)));if(c.ok)***REMOVED***return B(await c.json())}throw await $("Generate Auth Token",c)}async function ct(t,e=!1)***REMOVED***let n;const s=await nt(t.appConfig,(s=>***REMOVED***if(!lt(s))throw j.create("not-registered");const r=s.authToken;if(!e&&function(t)***REMOVED***return 2===t.requestStatus&&!function(t)***REMOVED***const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(r))return s;if(1===r.requestStatus)return n=async function(t,e)***REMOVED***let n=await ut(t.appConfig);for(;1===n.authToken.requestStatus;)await K(100),n=await ut(t.appConfig);const s=n.authToken;return 0===s.requestStatus?ct(t,e):s}(t,e),s;***REMOVED***if(!navigator.onLine)throw j.create("app-offline");const e=function(t)***REMOVED***const e=***REMOVED***requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign(***REMOVED***},t),***REMOVED***authToken:e})}(s);return n=async function(t,e)***REMOVED***try***REMOVED***const n=await ot(t,e),s=Object.assign(Object.assign(***REMOVED***},e),***REMOVED***authToken:n});return await tt(t.appConfig,s),n}catch(n)***REMOVED***if(!R(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode)***REMOVED***const n=Object.assign(Object.assign(***REMOVED***},e),***REMOVED***authToken:***REMOVED***requestStatus:0}});await tt(t.appConfig,n)}else await et(t.appConfig);throw n}}(t,e),e}}));return n?await n:s.authToken}function ut(t)***REMOVED***return nt(t,(t=>***REMOVED***if(!lt(t))throw j.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+1e4<Date.now()?Object.assign(Object.assign(***REMOVED***},t),***REMOVED***authToken:***REMOVED***requestStatus:0}}):t;var n}))}function lt(t)***REMOVED***return void 0!==t&&2===t.registrationStatus}async function gt(t,e=!1)***REMOVED***const n=t;await async function(t)***REMOVED***const***REMOVED***registrationPromise:e}=await st(t);e&&await e}(n);return(await ct(n,e)).token}function ht(t)***REMOVED***return j.create("missing-app-config-values",***REMOVED***valueName:t})}const ft=t=>***REMOVED***const e=t.getProvider("app").getImmediate(),s=n(e,"installations").getImmediate();return***REMOVED***getId:()=>async function(t)***REMOVED***const e=t,***REMOVED***installationEntry:n,registrationPromise:s}=await st(e);return s?s.catch(console.error):ct(e).catch(console.error),n.fid}(s),getToken:t=>gt(s,t)}};e(new g("installations",(t=>***REMOVED***const e=t.getProvider("app").getImmediate(),s=function(t)***REMOVED***if(!t||!t.options)throw ht("App Configuration");if(!t.name)throw ht("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ht(n);return***REMOVED***appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return***REMOVED***app:e,appConfig:s,heartbeatServiceProvider:n(e,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),e(new g("installations-internal",ft,"PRIVATE")),t(N,"0.6.1"),t(N,"0.6.1","esm2017");const dt="@firebase/remote-config";class pt***REMOVED***constructor()***REMOVED***this.listeners=[]}addEventListener(t)***REMOVED***this.listeners.push(t)}abort()***REMOVED***this.listeners.forEach((t=>t()))}}const mt=new o("remoteconfig","Remote Config",***REMOVED***"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: ***REMOVED***$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: ***REMOVED***$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: ***REMOVED***$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: ***REMOVED***$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: ***REMOVED***$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: ***REMOVED***$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});const wt=["1","true","t","yes","y","on"];class vt***REMOVED***constructor(t,e="")***REMOVED***this._source=t,this._value=e}asString()***REMOVED***return this._value}asBoolean()***REMOVED***return"static"!==this._source&&wt.indexOf(this._value.toLowerCase())>=0}asNumber()***REMOVED***if("static"===this._source)return 0;let t=Number(this._value);return isNaN(t)&&(t=0),t}getSource()***REMOVED***return this._source}}function _t(t=s())***REMOVED***t=l(t);return n(t,"remote-config").getImmediate()}async function yt(t)***REMOVED***const e=l(t),[n,s]=await Promise.all([e._storage.getLastSuccessfulFetchResponse(),e._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==s)&&(await Promise.all([e._storageCache.setActiveConfig(n.config),e._storage.setActiveConfigEtag(n.eTag)]),!0)}function bt(t)***REMOVED***const e=l(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then((()=>***REMOVED***e._isInitializationComplete=!0}))),e._initializePromise}async function Et(t)***REMOVED***const e=l(t),n=new pt;setTimeout((async()=>***REMOVED***n.abort()}),e.settings.fetchTimeoutMillis);try***REMOVED***await e._client.fetch(***REMOVED***cacheMaxAgeMillis:e.settings.minimumFetchIntervalMillis,signal:n}),await e._storageCache.setLastFetchStatus("success")}catch(t)***REMOVED***const n=function(t,e)***REMOVED***return t instanceof i&&-1!==t.code.indexOf(e)}(t,"fetch-throttle")?"throttle":"failure";throw await e._storageCache.setLastFetchStatus(n),t}}function St(t)***REMOVED***const e=l(t);return function(t=***REMOVED***},e=***REMOVED***})***REMOVED***return Object.keys(Object.assign(Object.assign(***REMOVED***},t),e))}(e._storageCache.getActiveConfig(),e.defaultConfig).reduce(((e,n)=>(e[n]=Lt(t,n),e)),***REMOVED***})}function It(t,e)***REMOVED***return Lt(l(t),e).asBoolean()}function Ct(t,e)***REMOVED***return Lt(l(t),e).asNumber()}function Tt(t,e)***REMOVED***return Lt(l(t),e).asString()}function Lt(t,e)***REMOVED***const n=l(t);n._isInitializationComplete||n._logger.debug(`A value was requested for key "$***REMOVED***e}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const s=n._storageCache.getActiveConfig();return s&&void 0!==s[e]?new vt("remote",s[e]):n.defaultConfig&&void 0!==n.defaultConfig[e]?new vt("default",String(n.defaultConfig[e])):(n._logger.debug(`Returning static value for key "$***REMOVED***e}". Define a default or remote value if this is unintentional.`),new vt("static"))}function Mt(t,e)***REMOVED***const n=l(t);switch(e)***REMOVED***case"debug":n._logger.logLevel=h.DEBUG;break;case"silent":n._logger.logLevel=h.SILENT;break;default:n._logger.logLevel=h.ERROR}}class Dt***REMOVED***constructor(t,e,n,s)***REMOVED***this.client=t,this.storage=e,this.storageCache=n,this.logger=s}isCachedDataFresh(t,e)***REMOVED***if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,s=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: $***REMOVED***n}. Cache max age millis (minimumFetchIntervalMillis setting): $***REMOVED***t}. Is cache hit: $***REMOVED***s}.`),s}async fetch(t)***REMOVED***const[e,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return n;t.eTag=n&&n.eTag;const s=await this.client.fetch(t),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&r.push(this.storage.setLastSuccessfulFetchResponse(s)),await Promise.all(r),s}}function kt(t=navigator)***REMOVED***return t.languages&&t.languages[0]||t.language}class Ft***REMOVED***constructor(t,e,n,s,r,a)***REMOVED***this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=s,this.apiKey=r,this.appId=a}async fetch(t)***REMOVED***const[e,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`$***REMOVED***window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/$***REMOVED***this.projectId}/namespaces/$***REMOVED***this.namespace}:fetch?key=$***REMOVED***this.apiKey}`,r=***REMOVED***"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a=***REMOVED***sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:n,app_id:this.appId,language_code:kt()},i=***REMOVED***method:"POST",headers:r,body:JSON.stringify(a)},o=fetch(s,i),c=new Promise(((e,n)=>***REMOVED***t.signal.addEventListener((()=>***REMOVED***const t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))}));let u;try***REMOVED***await Promise.race([o,c]),u=await o}catch(t)***REMOVED***let e="fetch-client-network";throw"AbortError"===(null==t?void 0:t.name)&&(e="fetch-timeout"),mt.create(e,***REMOVED***originalErrorMessage:null==t?void 0:t.message})}let l=u.status;const g=u.headers.get("ETag")||void 0;let h,f;if(200===u.status)***REMOVED***let t;try***REMOVED***t=await u.json()}catch(t)***REMOVED***throw mt.create("fetch-client-parse",***REMOVED***originalErrorMessage:null==t?void 0:t.message})}h=t.entries,f=t.state}if("INSTANCE_STATE_UNSPECIFIED"===f?l=500:"NO_CHANGE"===f?l=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(h=***REMOVED***}),304!==l&&200!==l)throw mt.create("fetch-status",***REMOVED***httpStatus:l});return***REMOVED***status:l,eTag:g,config:h}}}class Pt***REMOVED***constructor(t,e)***REMOVED***this.client=t,this.storage=e}async fetch(t)***REMOVED***const e=await this.storage.getThrottleMetadata()||***REMOVED***backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)}async attemptFetch(t,***REMOVED***throttleEndTimeMillis:e,backoffCount:n})***REMOVED***await function(t,e)***REMOVED***return new Promise(((n,s)=>***REMOVED***const r=Math.max(e-Date.now(),0),a=setTimeout(n,r);t.addEventListener((()=>***REMOVED***clearTimeout(a),s(mt.create("fetch-throttle",***REMOVED***throttleEndTimeMillis:e}))}))}))}(t.signal,e);try***REMOVED***const e=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),e}catch(e)***REMOVED***if(!function(t)***REMOVED***if(!(t instanceof i&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e))throw e;const s=***REMOVED***throttleEndTimeMillis:Date.now()+u(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(t,s)}}}class Ot***REMOVED***constructor(t,e,n,s,r)***REMOVED***this.app=t,this._client=e,this._storageCache=n,this._storage=s,this._logger=r,this._isInitializationComplete=!1,this.settings=***REMOVED***fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig=***REMOVED***}}get fetchTimeMillis()***REMOVED***return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus()***REMOVED***return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nt(t,e)***REMOVED***const n=t.target.error||void 0;return mt.create(e,***REMOVED***originalErrorMessage:n&&(null==n?void 0:n.message)})}class jt***REMOVED***constructor(t,e,n,s=function()***REMOVED***return new Promise(((t,e)=>***REMOVED***try***REMOVED***const n=indexedDB.open("firebase_remote_config",1);n.onerror=t=>***REMOVED***e(Nt(t,"storage-open"))},n.onsuccess=e=>***REMOVED***t(e.target.result)},n.onupgradeneeded=t=>***REMOVED***const e=t.target.result;0===t.oldVersion&&e.createObjectStore("app_namespace_store",***REMOVED***keyPath:"compositeKey"})}}catch(t)***REMOVED***e(mt.create("storage-open",***REMOVED***originalErrorMessage:null==t?void 0:t.message}))}}))}())***REMOVED***this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=s}getLastFetchStatus()***REMOVED***return this.get("last_fetch_status")}setLastFetchStatus(t)***REMOVED***return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis()***REMOVED***return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t)***REMOVED***return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse()***REMOVED***return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t)***REMOVED***return this.set("last_successful_fetch_response",t)}getActiveConfig()***REMOVED***return this.get("active_config")}setActiveConfig(t)***REMOVED***return this.set("active_config",t)}getActiveConfigEtag()***REMOVED***return this.get("active_config_etag")}setActiveConfigEtag(t)***REMOVED***return this.set("active_config_etag",t)}getThrottleMetadata()***REMOVED***return this.get("throttle_metadata")}setThrottleMetadata(t)***REMOVED***return this.set("throttle_metadata",t)}deleteThrottleMetadata()***REMOVED***return this.delete("throttle_metadata")}async get(t)***REMOVED***const e=await this.openDbPromise;return new Promise(((n,s)=>***REMOVED***const r=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=this.createCompositeKey(t);try***REMOVED***const t=r.get(a);t.onerror=t=>***REMOVED***s(Nt(t,"storage-get"))},t.onsuccess=t=>***REMOVED***const e=t.target.result;n(e?e.value:void 0)}}catch(t)***REMOVED***s(mt.create("storage-get",***REMOVED***originalErrorMessage:null==t?void 0:t.message}))}}))}async set(t,e)***REMOVED***const n=await this.openDbPromise;return new Promise(((s,r)=>***REMOVED***const a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),i=this.createCompositeKey(t);try***REMOVED***const t=a.put(***REMOVED***compositeKey:i,value:e});t.onerror=t=>***REMOVED***r(Nt(t,"storage-set"))},t.onsuccess=()=>***REMOVED***s()}}catch(t)***REMOVED***r(mt.create("storage-set",***REMOVED***originalErrorMessage:null==t?void 0:t.message}))}}))}async delete(t)***REMOVED***const e=await this.openDbPromise;return new Promise(((n,s)=>***REMOVED***const r=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=this.createCompositeKey(t);try***REMOVED***const t=r.delete(a);t.onerror=t=>***REMOVED***s(Nt(t,"storage-delete"))},t.onsuccess=()=>***REMOVED***n()}}catch(t)***REMOVED***s(mt.create("storage-delete",***REMOVED***originalErrorMessage:null==t?void 0:t.message}))}}))}createCompositeKey(t)***REMOVED***return[this.appId,this.appName,this.namespace,t].join()}}class Rt***REMOVED***constructor(t)***REMOVED***this.storage=t}getLastFetchStatus()***REMOVED***return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis()***REMOVED***return this.lastSuccessfulFetchTimestampMillis}getActiveConfig()***REMOVED***return this.activeConfig}async loadFromStorage()***REMOVED***const t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),s=await t;s&&(this.lastFetchStatus=s);const r=await e;r&&(this.lastSuccessfulFetchTimestampMillis=r);const a=await n;a&&(this.activeConfig=a)}setLastFetchStatus(t)***REMOVED***return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t)***REMOVED***return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t)***REMOVED***return this.activeConfig=t,this.storage.setActiveConfig(t)}}async function At(t)***REMOVED***return t=l(t),await Et(t),yt(t)}async function Bt()***REMOVED***if(!a())return!1;try***REMOVED***return await new Promise(((t,e)=>***REMOVED***try***REMOVED***let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>***REMOVED***r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>***REMOVED***n=!1},r.onerror=()=>***REMOVED***var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t)***REMOVED***e(t)}}))}catch(t)***REMOVED***return!1}}e(new g("remote-config",(function(t,***REMOVED***instanceIdentifier:e})***REMOVED***const n=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mt.create("registration-window");if(!a())throw mt.create("indexed-db-unavailable");const***REMOVED***projectId:i,apiKey:o,appId:c}=n.options;if(!i)throw mt.create("registration-project-id");if(!o)throw mt.create("registration-api-key");if(!c)throw mt.create("registration-app-id");e=e||"firebase";const u=new jt(c,n.name,e),l=new Rt(u),g=new w(dt);g.logLevel=h.ERROR;const f=new Ft(s,r,e,i,o,c),d=new Pt(f,u),p=new Dt(d,u,l,g),m=new Ot(n,p,l,u,g);return bt(m),m}),"PUBLIC").setMultipleInstances(!0)),t(dt,"0.4.1"),t(dt,"0.4.1","esm2017");export***REMOVED***yt as activate,bt as ensureInitialized,At as fetchAndActivate,Et as fetchConfig,St as getAll,It as getBoolean,Ct as getNumber,_t as getRemoteConfig,Tt as getString,Lt as getValue,Bt as isSupported,Mt as setLogLevel};

//# sourceMappingURL=firebase-remote-config.js.map
