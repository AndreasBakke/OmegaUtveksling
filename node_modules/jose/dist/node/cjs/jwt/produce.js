"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
exports.ProduceJWT = void 0;
const epoch_js_1 = require("../lib/epoch.js");
const is_object_js_1 = require("../lib/is_object.js");
const secs_js_1 = require("../lib/secs.js");
class ProduceJWT ***REMOVED***
    constructor(payload) ***REMOVED***
        if (!(0, is_object_js_1.default)(payload)) ***REMOVED***
            throw new TypeError('JWT Claims Set MUST be an object');
      ***REMOVED***
        this._payload = payload;
  ***REMOVED***
    setIssuer(issuer) ***REMOVED***
        this._payload = ***REMOVED*** ...this._payload, iss: issuer };
        return this;
  ***REMOVED***
    setSubject(subject) ***REMOVED***
        this._payload = ***REMOVED*** ...this._payload, sub: subject };
        return this;
  ***REMOVED***
    setAudience(audience) ***REMOVED***
        this._payload = ***REMOVED*** ...this._payload, aud: audience };
        return this;
  ***REMOVED***
    setJti(jwtId) ***REMOVED***
        this._payload = ***REMOVED*** ...this._payload, jti: jwtId };
        return this;
  ***REMOVED***
    setNotBefore(input) ***REMOVED***
        if (typeof input === 'number') ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, nbf: input };
      ***REMOVED***
        else ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, nbf: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };
      ***REMOVED***
        return this;
  ***REMOVED***
    setExpirationTime(input) ***REMOVED***
        if (typeof input === 'number') ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, exp: input };
      ***REMOVED***
        else ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, exp: (0, epoch_js_1.default)(new Date()) + (0, secs_js_1.default)(input) };
      ***REMOVED***
        return this;
  ***REMOVED***
    setIssuedAt(input) ***REMOVED***
        if (typeof input === 'undefined') ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, iat: (0, epoch_js_1.default)(new Date()) };
      ***REMOVED***
        else ***REMOVED***
            this._payload = ***REMOVED*** ...this._payload, iat: input };
      ***REMOVED***
        return this;
  ***REMOVED***
}
exports.ProduceJWT = ProduceJWT;
