"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
exports.CompactSign = void 0;
const sign_js_1 = require("../flattened/sign.js");
class CompactSign ***REMOVED***
    constructor(payload) ***REMOVED***
        this._flattened = new sign_js_1.FlattenedSign(payload);
  ***REMOVED***
    setProtectedHeader(protectedHeader) ***REMOVED***
        this._flattened.setProtectedHeader(protectedHeader);
        return this;
  ***REMOVED***
    async sign(key, options) ***REMOVED***
        const jws = await this._flattened.sign(key, options);
        if (jws.payload === undefined) ***REMOVED***
            throw new TypeError('use the flattened module for creating JWS with b64: false');
      ***REMOVED***
        return `$***REMOVED***jws.protected}.$***REMOVED***jws.payload}.$***REMOVED***jws.signature}`;
  ***REMOVED***
}
exports.CompactSign = CompactSign;
