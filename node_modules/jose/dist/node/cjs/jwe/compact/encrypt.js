"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
exports.CompactEncrypt = void 0;
const encrypt_js_1 = require("../flattened/encrypt.js");
class CompactEncrypt ***REMOVED***
    constructor(plaintext) ***REMOVED***
        this._flattened = new encrypt_js_1.FlattenedEncrypt(plaintext);
  ***REMOVED***
    setContentEncryptionKey(cek) ***REMOVED***
        this._flattened.setContentEncryptionKey(cek);
        return this;
  ***REMOVED***
    setInitializationVector(iv) ***REMOVED***
        this._flattened.setInitializationVector(iv);
        return this;
  ***REMOVED***
    setProtectedHeader(protectedHeader) ***REMOVED***
        this._flattened.setProtectedHeader(protectedHeader);
        return this;
  ***REMOVED***
    setKeyManagementParameters(parameters) ***REMOVED***
        this._flattened.setKeyManagementParameters(parameters);
        return this;
  ***REMOVED***
    async encrypt(key, options) ***REMOVED***
        const jwe = await this._flattened.encrypt(key, options);
        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');
  ***REMOVED***
}
exports.CompactEncrypt = CompactEncrypt;
