module.exports = Queue

function Queue(initial = []) ***REMOVED***
  let xs = initial.slice()
  let index = 0

  return ***REMOVED***
    get length() ***REMOVED***
      return xs.length - index
  ***REMOVED***,
    remove: (x) => ***REMOVED***
      const index = xs.indexOf(x)
      return index === -1
        ? null
        : (xs.splice(index, 1), x)
  ***REMOVED***,
    push: (x) => (xs.push(x), x),
    shift: () => ***REMOVED***
      const out = xs[index++]

      if (index === xs.length) ***REMOVED***
        index = 0
        xs = []
    ***REMOVED*** else ***REMOVED***
        xs[index - 1] = undefined
    ***REMOVED***

      return out
  ***REMOVED***
***REMOVED***
}
