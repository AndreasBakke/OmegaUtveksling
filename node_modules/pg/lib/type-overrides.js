'use strict'

var types = require('pg-types')

function TypeOverrides(userTypes) ***REMOVED***
  this._types = userTypes || types
  this.text = ***REMOVED***}
  this.binary = ***REMOVED***}
}

TypeOverrides.prototype.getOverrides = function (format) ***REMOVED***
  switch (format) ***REMOVED***
    case 'text':
      return this.text
    case 'binary':
      return this.binary
    default:
      return ***REMOVED***}
***REMOVED***
}

TypeOverrides.prototype.setTypeParser = function (oid, format, parseFn) ***REMOVED***
  if (typeof format === 'function') ***REMOVED***
    parseFn = format
    format = 'text'
***REMOVED***
  this.getOverrides(format)[oid] = parseFn
}

TypeOverrides.prototype.getTypeParser = function (oid, format) ***REMOVED***
  format = format || 'text'
  return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format)
}

module.exports = TypeOverrides
