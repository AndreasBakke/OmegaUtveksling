define(['./isNumber', './isArray', './isObject'], function (isNumber, isArray, isObject) ***REMOVED***

  function set (obj, path, value) ***REMOVED***
    var key = String(path[0]);

    if (path.length === 1) ***REMOVED***
      obj[key] = value;
      return;
  ***REMOVED***

    if (!isArray(obj[key]) || !isObject(obj[key])) ***REMOVED***
      var nextKey = path[1];
      obj[key] = isNumber(nextKey) ? [] : ***REMOVED***};
  ***REMOVED***

    return set(obj[key], path.slice(1), value);
***REMOVED***

  return set;

});
