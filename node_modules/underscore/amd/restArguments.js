define(function () ***REMOVED***

  // Some functions take a variable number of arguments, or a few expected
  // arguments at the beginning and then a variable number of values to operate
  // on. This helper accumulates all remaining arguments past the function’s
  // argument length (or an explicit `startIndex`), into an array that becomes
  // the last argument. Similar to ES6’s "rest parameter".
  function restArguments(func, startIndex) ***REMOVED***
    startIndex = startIndex == null ? func.length - 1 : +startIndex;
    return function() ***REMOVED***
      var length = Math.max(arguments.length - startIndex, 0),
          rest = Array(length),
          index = 0;
      for (; index < length; index++) ***REMOVED***
        rest[index] = arguments[index + startIndex];
    ***REMOVED***
      switch (startIndex) ***REMOVED***
        case 0: return func.call(this, rest);
        case 1: return func.call(this, arguments[0], rest);
        case 2: return func.call(this, arguments[0], arguments[1], rest);
    ***REMOVED***
      var args = Array(startIndex + 1);
      for (index = 0; index < startIndex; index++) ***REMOVED***
        args[index] = arguments[index];
    ***REMOVED***
      args[startIndex] = rest;
      return func.apply(this, args);
  ***REMOVED***;
***REMOVED***

  return restArguments;

});
