var underscore = require('./underscore.js');
var each = require('./each.js');
var _setup = require('./_setup.js');
var _chainResult = require('./_chainResult.js');

// Add all mutator `Array` functions to the wrapper.
each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) ***REMOVED***
  var method = _setup.ArrayProto[name];
  underscore.prototype[name] = function() ***REMOVED***
    var obj = this._wrapped;
    if (obj != null) ***REMOVED***
      method.apply(obj, arguments);
      if ((name === 'shift' || name === 'splice') && obj.length === 0) ***REMOVED***
        delete obj[0];
    ***REMOVED***
  ***REMOVED***
    return _chainResult(this, obj);
***REMOVED***;
});

// Add all accessor `Array` functions to the wrapper.
each(['concat', 'join', 'slice'], function(name) ***REMOVED***
  var method = _setup.ArrayProto[name];
  underscore.prototype[name] = function() ***REMOVED***
    var obj = this._wrapped;
    if (obj != null) obj = method.apply(obj, arguments);
    return _chainResult(this, obj);
***REMOVED***;
});

module.exports = underscore;
