var _cb = require('./_cb.js');
var pluck = require('./pluck.js');
var map = require('./map.js');

// Sort the object's values by a criterion produced by an iteratee.
function sortBy(obj, iteratee, context) ***REMOVED***
  var index = 0;
  iteratee = _cb(iteratee, context);
  return pluck(map(obj, function(value, key, list) ***REMOVED***
    return ***REMOVED***
      value: value,
      index: index++,
      criteria: iteratee(value, key, list)
  ***REMOVED***;
***REMOVED***).sort(function(left, right) ***REMOVED***
    var a = left.criteria;
    var b = right.criteria;
    if (a !== b) ***REMOVED***
      if (a > b || a === void 0) return 1;
      if (a < b || b === void 0) return -1;
  ***REMOVED***
    return left.index - right.index;
***REMOVED***), 'value');
}

module.exports = sortBy;
