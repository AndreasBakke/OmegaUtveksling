import restArguments from './restArguments.js';
import isFunction from './isFunction.js';
import optimizeCb from './_optimizeCb.js';
import allKeys from './allKeys.js';
import keyInObj from './_keyInObj.js';
import flatten from './_flatten.js';

// Return a copy of the object only containing the allowed properties.
export default restArguments(function(obj, keys) ***REMOVED***
  var result = ***REMOVED***}, iteratee = keys[0];
  if (obj == null) return result;
  if (isFunction(iteratee)) ***REMOVED***
    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);
    keys = allKeys(obj);
***REMOVED*** else ***REMOVED***
    iteratee = keyInObj;
    keys = flatten(keys, false, false);
    obj = Object(obj);
***REMOVED***
  for (var i = 0, length = keys.length; i < length; i++) ***REMOVED***
    var key = keys[i];
    var value = obj[key];
    if (iteratee(value, key, obj)) result[key] = value;
***REMOVED***
  return result;
});
