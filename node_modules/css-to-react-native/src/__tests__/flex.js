import transformCss from '..'

it('transforms flex shorthand with 3 values', () => ***REMOVED***
  expect(transformCss([['flex', '1 2 3px']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 2,
    flexBasis: 3,
***REMOVED***)
})

it('transforms flex shorthand with 3 values in reverse order', () => ***REMOVED***
  expect(transformCss([['flex', '3px 1 2']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 2,
    flexBasis: 3,
***REMOVED***)
})

it('transforms flex shorthand with 2 values of flex-grow and flex-shrink', () => ***REMOVED***
  expect(transformCss([['flex', '1 2']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 2,
    flexBasis: 0,
***REMOVED***)
})

it('transforms flex shorthand with 2 values of flex-grow and flex-basis', () => ***REMOVED***
  expect(transformCss([['flex', '2 2px']])).toEqual(***REMOVED***
    flexGrow: 2,
    flexShrink: 1,
    flexBasis: 2,
***REMOVED***)
})

it('transforms flex shorthand with 2 values of flex-grow and flex-basis (reversed)', () => ***REMOVED***
  expect(transformCss([['flex', '2px 2']])).toEqual(***REMOVED***
    flexGrow: 2,
    flexShrink: 1,
    flexBasis: 2,
***REMOVED***)
})

it('transforms flex shorthand with 1 value of flex-grow', () => ***REMOVED***
  expect(transformCss([['flex', '2']])).toEqual(***REMOVED***
    flexGrow: 2,
    flexShrink: 1,
    flexBasis: 0,
***REMOVED***)
})

it('transforms flex shorthand with 1 value of flex-basis', () => ***REMOVED***
  expect(transformCss([['flex', '10px']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 1,
    flexBasis: 10,
***REMOVED***)
})

/*
A unitless zero that is not already preceded by two flex factors must be interpreted as a flex
factor. To avoid misinterpretation or invalid declarations, authors must specify a zero
<‘flex-basis’> component with a unit or precede it by two flex factors.
*/
it('transforms flex shorthand with flex-grow/shrink taking priority over basis', () => ***REMOVED***
  expect(transformCss([['flex', '0 1 0']])).toEqual(***REMOVED***
    flexGrow: 0,
    flexShrink: 1,
    flexBasis: 0,
***REMOVED***)
})

it('transforms flex shorthand with flex-basis set to auto', () => ***REMOVED***
  expect(transformCss([['flex', '0 1 auto']])).toEqual(***REMOVED***
    flexGrow: 0,
    flexShrink: 1,
    flexBasis: 'auto',
***REMOVED***)
})

it('transforms flex shorthand with flex-basis set to percent', () => ***REMOVED***
  expect(transformCss([['flex', '1 2 30%']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 2,
    flexBasis: '30%',
***REMOVED***)
})

it('transforms flex shorthand with flex-basis set to unsupported unit', () => ***REMOVED***
  expect(transformCss([['flex', '1 2 30em']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 2,
    flexBasis: '30em',
***REMOVED***)
})

it('transforms flex shorthand with flex-basis set to auto appearing first', () => ***REMOVED***
  expect(transformCss([['flex', 'auto 0 1']])).toEqual(***REMOVED***
    flexGrow: 0,
    flexShrink: 1,
    flexBasis: 'auto',
***REMOVED***)
})

it('transforms flex auto keyword', () => ***REMOVED***
  expect(transformCss([['flex', 'auto']])).toEqual(***REMOVED***
    flexGrow: 1,
    flexShrink: 1,
    flexBasis: 'auto',
***REMOVED***)
})

it('transforms flex none keyword', () => ***REMOVED***
  expect(transformCss([['flex', 'none']])).toEqual(***REMOVED***
    flexGrow: 0,
    flexShrink: 0,
    flexBasis: 'auto',
***REMOVED***)
})

it('does not transform invalid flex', () => ***REMOVED***
  expect(() => transformCss([['flex', '1 2px 3']])).toThrow()
})
