"use strict";

Object.defineProperty(exports, "__esModule", ***REMOVED***
  value: true
});
exports.default = void 0;
var _genMapping = require("@jridgewell/gen-mapping");

class SourceMap ***REMOVED***

  constructor(opts, code) ***REMOVED***
    var _opts$sourceFileName;
    this._map = void 0;
    this._rawMappings = void 0;
    this._sourceFileName = void 0;
    this._lastGenLine = 0;
    this._lastSourceLine = 0;
    this._lastSourceColumn = 0;
    const map = this._map = new _genMapping.GenMapping(***REMOVED***
      sourceRoot: opts.sourceRoot
  ***REMOVED***);
    this._sourceFileName = (_opts$sourceFileName = opts.sourceFileName) == null ? void 0 : _opts$sourceFileName.replace(/\\/g, "/");
    this._rawMappings = undefined;
    if (typeof code === "string") ***REMOVED***
      (0, _genMapping.setSourceContent)(map, this._sourceFileName, code);
  ***REMOVED*** else if (typeof code === "object") ***REMOVED***
      Object.keys(code).forEach(sourceFileName => ***REMOVED***
        (0, _genMapping.setSourceContent)(map, sourceFileName.replace(/\\/g, "/"), code[sourceFileName]);
    ***REMOVED***);
  ***REMOVED***
***REMOVED***

  get() ***REMOVED***
    return (0, _genMapping.toEncodedMap)(this._map);
***REMOVED***
  getDecoded() ***REMOVED***
    return (0, _genMapping.toDecodedMap)(this._map);
***REMOVED***
  getRawMappings() ***REMOVED***
    return this._rawMappings || (this._rawMappings = (0, _genMapping.allMappings)(this._map));
***REMOVED***

  mark(generated, line, column, identifierName, filename) ***REMOVED***
    this._rawMappings = undefined;
    (0, _genMapping.maybeAddMapping)(this._map, ***REMOVED***
      name: identifierName,
      generated,
      source: line == null ? undefined : (filename == null ? void 0 : filename.replace(/\\/g, "/")) || this._sourceFileName,
      original: line == null ? undefined : ***REMOVED***
        line: line,
        column: column
    ***REMOVED***
  ***REMOVED***);
***REMOVED***
}
exports.default = SourceMap;

//# sourceMappingURL=source-map.js.map
