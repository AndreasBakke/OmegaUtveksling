"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
exports.DocumentChange = void 0;
/**
 * A DocumentChange represents a change to the documents matching a query.
 * It contains the document affected and the type of change that occurred.
 *
 * @class DocumentChange
 */
class DocumentChange ***REMOVED***
    /**
     * @private
     *
     * @param ***REMOVED***string} type 'added' | 'removed' | 'modified'.
     * @param ***REMOVED***QueryDocumentSnapshot} document The document.
     * @param ***REMOVED***number} oldIndex The index in the documents array prior to this
     * change.
     * @param ***REMOVED***number} newIndex The index in the documents array after this
     * change.
     */
    constructor(type, document, oldIndex, newIndex) ***REMOVED***
        this._type = type;
        this._document = document;
        this._oldIndex = oldIndex;
        this._newIndex = newIndex;
  ***REMOVED***
    /**
     * The type of change ('added', 'modified', or 'removed').
     *
     * @type ***REMOVED***string}
     * @name DocumentChange#type
     * @readonly
     *
     * @example
     * ```
     * let query = firestore.collection('col').where('foo', '==', 'bar');
     * let docsArray = [];
     *
     * let unsubscribe = query.onSnapshot(querySnapshot => ***REMOVED***
     *   for (let change of querySnapshot.docChanges) ***REMOVED***
     *     console.log(`Type of change is $***REMOVED***change.type}`);
     * ***REMOVED***
     * });
     *
     * // Remove this listener.
     * unsubscribe();
     * ```
     */
    get type() ***REMOVED***
        return this._type;
  ***REMOVED***
    /**
     * The document affected by this change.
     *
     * @type ***REMOVED***QueryDocumentSnapshot}
     * @name DocumentChange#doc
     * @readonly
     *
     * @example
     * ```
     * let query = firestore.collection('col').where('foo', '==', 'bar');
     *
     * let unsubscribe = query.onSnapshot(querySnapshot => ***REMOVED***
     *   for (let change of querySnapshot.docChanges) ***REMOVED***
     *     console.log(change.doc.data());
     * ***REMOVED***
     * });
     *
     * // Remove this listener.
     * unsubscribe();
     * ```
     */
    get doc() ***REMOVED***
        return this._document;
  ***REMOVED***
    /**
     * The index of the changed document in the result set immediately prior to
     * this DocumentChange (i.e. supposing that all prior DocumentChange objects
     * have been applied). Is -1 for 'added' events.
     *
     * @type ***REMOVED***number}
     * @name DocumentChange#oldIndex
     * @readonly
     *
     * @example
     * ```
     * let query = firestore.collection('col').where('foo', '==', 'bar');
     * let docsArray = [];
     *
     * let unsubscribe = query.onSnapshot(querySnapshot => ***REMOVED***
     *   for (let change of querySnapshot.docChanges) ***REMOVED***
     *     if (change.oldIndex !== -1) ***REMOVED***
     *       docsArray.splice(change.oldIndex, 1);
     *   ***REMOVED***
     *     if (change.newIndex !== -1) ***REMOVED***
     *       docsArray.splice(change.newIndex, 0, change.doc);
     *   ***REMOVED***
     * ***REMOVED***
     * });
     *
     * // Remove this listener.
     * unsubscribe();
     * ```
     */
    get oldIndex() ***REMOVED***
        return this._oldIndex;
  ***REMOVED***
    /**
     * The index of the changed document in the result set immediately after
     * this DocumentChange (i.e. supposing that all prior DocumentChange
     * objects and the current DocumentChange object have been applied).
     * Is -1 for 'removed' events.
     *
     * @type ***REMOVED***number}
     * @name DocumentChange#newIndex
     * @readonly
     *
     * @example
     * ```
     * let query = firestore.collection('col').where('foo', '==', 'bar');
     * let docsArray = [];
     *
     * let unsubscribe = query.onSnapshot(querySnapshot => ***REMOVED***
     *   for (let change of querySnapshot.docChanges) ***REMOVED***
     *     if (change.oldIndex !== -1) ***REMOVED***
     *       docsArray.splice(change.oldIndex, 1);
     *   ***REMOVED***
     *     if (change.newIndex !== -1) ***REMOVED***
     *       docsArray.splice(change.newIndex, 0, change.doc);
     *   ***REMOVED***
     * ***REMOVED***
     * });
     *
     * // Remove this listener.
     * unsubscribe();
     * ```
     */
    get newIndex() ***REMOVED***
        return this._newIndex;
  ***REMOVED***
    /**
     * Returns true if the data in this `DocumentChange` is equal to the provided
     * value.
     *
     * @param ***REMOVED****} other The value to compare against.
     * @return true if this `DocumentChange` is equal to the provided value.
     */
    isEqual(other) ***REMOVED***
        if (this === other) ***REMOVED***
            return true;
      ***REMOVED***
        return (other instanceof DocumentChange &&
            this._type === other._type &&
            this._oldIndex === other._oldIndex &&
            this._newIndex === other._newIndex &&
            this._document.isEqual(other._document));
  ***REMOVED***
}
exports.DocumentChange = DocumentChange;
//# sourceMappingURL=document-change.js.map