const SemVer = require('../classes/semver')
const Range = require('../classes/range')

const maxSatisfying = (versions, range, options) => ***REMOVED***
  let max = null
  let maxSV = null
  let rangeObj = null
  try ***REMOVED***
    rangeObj = new Range(range, options)
***REMOVED*** catch (er) ***REMOVED***
    return null
***REMOVED***
  versions.forEach((v) => ***REMOVED***
    if (rangeObj.test(v)) ***REMOVED***
      // satisfies(v, range, options)
      if (!max || maxSV.compare(v) === -1) ***REMOVED***
        // compare(max, v, true)
        max = v
        maxSV = new SemVer(max, options)
    ***REMOVED***
  ***REMOVED***
***REMOVED***)
  return max
}
module.exports = maxSatisfying
