"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
exports.BufferReader = void 0;
const emptyBuffer = Buffer.allocUnsafe(0);
class BufferReader ***REMOVED***
    constructor(offset = 0) ***REMOVED***
        this.offset = offset;
        this.buffer = emptyBuffer;
        // TODO(bmc): support non-utf8 encoding?
        this.encoding = 'utf-8';
  ***REMOVED***
    setBuffer(offset, buffer) ***REMOVED***
        this.offset = offset;
        this.buffer = buffer;
  ***REMOVED***
    int16() ***REMOVED***
        const result = this.buffer.readInt16BE(this.offset);
        this.offset += 2;
        return result;
  ***REMOVED***
    byte() ***REMOVED***
        const result = this.buffer[this.offset];
        this.offset++;
        return result;
  ***REMOVED***
    int32() ***REMOVED***
        const result = this.buffer.readInt32BE(this.offset);
        this.offset += 4;
        return result;
  ***REMOVED***
    string(length) ***REMOVED***
        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);
        this.offset += length;
        return result;
  ***REMOVED***
    cstring() ***REMOVED***
        const start = this.offset;
        let end = start;
        while (this.buffer[end++] !== 0) ***REMOVED*** }
        this.offset = end;
        return this.buffer.toString(this.encoding, start, end - 1);
  ***REMOVED***
    bytes(length) ***REMOVED***
        const result = this.buffer.slice(this.offset, this.offset + length);
        this.offset += length;
        return result;
  ***REMOVED***
}
exports.BufferReader = BufferReader;
//# sourceMappingURL=buffer-reader.js.map