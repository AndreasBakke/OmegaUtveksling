/**
 * Module to convert values between various JavaScript types.
 * @module
 * @private
 */

/**
 * Check whether a string contains a boolean or numeric value, and convert the string to the
 * appropriate type if necessary.
 *
 * @private
 * @param ***REMOVED***string} str - The string to convert.
 * @return ***REMOVED***(string|number|boolean)} The converted value.
 */
function castString(str) ***REMOVED***
    let number;
    let result;

    switch (str) ***REMOVED***
        case 'true':
            result = true;
            break;

        case 'false':
            result = false;
            break;

        case 'NaN':
            result = NaN;
            break;

        case 'null':
            result = null;
            break;

        case 'undefined':
            result = undefined;
            break;

        default:
            if (typeof str === 'string') ***REMOVED***
                if (str.includes('.')) ***REMOVED***
                    number = parseFloat(str);
              ***REMOVED***
                else ***REMOVED***
                    number = parseInt(str, 10);
              ***REMOVED***

                if ( String(number) === str && !isNaN(number) ) ***REMOVED***
                    result = number;
              ***REMOVED***
                else ***REMOVED***
                    result = str;
              ***REMOVED***
          ***REMOVED***
  ***REMOVED***

    return result;
}

/**
 * Check whether a string contains a boolean or numeric value, and convert the string to the
 * appropriate type if necessary.
 *
 * If an object or array is passed to this method, the object or array's values will be recursively
 * converted to the appropriate types. The original object or array is not modified.
 *
 * @private
 * @param ***REMOVED***(string|Object|Array)} item - The item whose type will be converted.
 * @return ***REMOVED***(string|number|boolean|Object|Array)} The converted value.
 */
exports.cast = function cast(item) ***REMOVED***
    let result;

    if ( Array.isArray(item) ) ***REMOVED***
        result = [];
        for (let i = 0, l = item.length; i < l; i++) ***REMOVED***
            result[i] = cast(item[i]);
      ***REMOVED***
  ***REMOVED***
    else if (typeof item === 'object' && item !== null) ***REMOVED***
        result = ***REMOVED***};
        Object.keys(item).forEach(prop => ***REMOVED***
            result[prop] = cast(item[prop]);
      ***REMOVED***);
  ***REMOVED***
    else if (typeof item === 'string') ***REMOVED***
        result = castString(item);
  ***REMOVED***
    else ***REMOVED***
        result = item;
  ***REMOVED***

    return result;
};
