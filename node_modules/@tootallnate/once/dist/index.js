"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true });
function once(emitter, name, ***REMOVED*** signal } = ***REMOVED***}) ***REMOVED***
    return new Promise((resolve, reject) => ***REMOVED***
        function cleanup() ***REMOVED***
            signal === null || signal === void 0 ? void 0 : signal.removeEventListener('abort', cleanup);
            emitter.removeListener(name, onEvent);
            emitter.removeListener('error', onError);
      ***REMOVED***
        function onEvent(...args) ***REMOVED***
            cleanup();
            resolve(args);
      ***REMOVED***
        function onError(err) ***REMOVED***
            cleanup();
            reject(err);
      ***REMOVED***
        signal === null || signal === void 0 ? void 0 : signal.addEventListener('abort', cleanup);
        emitter.on(name, onEvent);
        emitter.on('error', onError);
  ***REMOVED***);
}
exports.default = once;
//# sourceMappingURL=index.js.map