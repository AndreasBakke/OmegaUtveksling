// Type definitions for linkify-it 3.0.2
// Project: https://github.com/markdown-it/linkify-it
// Definitions by: Lindsey Smith <https://github.com/praxxis>
//                 Robert Coie <https://github.com/rapropos/typed-linkify-it>
//                 Alex Plumb <https://github.com/alexplumb>
//                 Rafa Gares <https://github.com/ragafus>
// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped
// TypeScript Version: 2.2

declare const LinkifyIt: ***REMOVED***
    (
        schemas?: LinkifyIt.SchemaRules | LinkifyIt.Options,
        options?: LinkifyIt.Options
    ): LinkifyIt.LinkifyIt;
    new (
        schemas?: LinkifyIt.SchemaRules | LinkifyIt.Options,
        options?: LinkifyIt.Options
    ): LinkifyIt.LinkifyIt;
};

declare namespace LinkifyIt ***REMOVED***
    type Validate = (text: string, pos: number, self: LinkifyIt) => number | boolean;

    interface FullRule ***REMOVED***
        validate: string | RegExp | Validate;
        normalize?: ((match: Match) => void) | undefined;
  ***REMOVED***

    type Rule = string | FullRule;

    interface SchemaRules ***REMOVED***
        [schema: string]: Rule;
  ***REMOVED***

    interface Options ***REMOVED***
        fuzzyLink?: boolean | undefined;
        fuzzyIP?: boolean | undefined;
        fuzzyEmail?: boolean | undefined;
  ***REMOVED***

    interface Match ***REMOVED***
        index: number;
        lastIndex: number;
        raw: string;
        schema: string;
        text: string;
        url: string;
  ***REMOVED***

    interface LinkifyIt ***REMOVED***
        // Use overloads to provide contextual typing to `FullRule.normalize`, which is ambiguous with string.normalize
        // This appears unneeded to the unified-signatures lint rule.
        add(schema: string, rule: string): LinkifyIt;
        // tslint:disable-next-line: unified-signatures
        add(schema: string, rule: FullRule | null): LinkifyIt;
        match(text: string): Match[] | null;
        normalize(raw: string): string;
        pretest(text: string): boolean;
        set(options: Options): LinkifyIt;
        test(text: string): boolean;
        testSchemaAt(text: string, schemaName: string, pos: number): number;
        tlds(list: string | string[], keepOld?: boolean): LinkifyIt;
        re: ***REMOVED***
            [key: string]: RegExp;
      ***REMOVED***;
  ***REMOVED***
}

export = LinkifyIt;
